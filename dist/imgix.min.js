(function(){function f(r,a,o){function u(i,t){if(!a[i]){if(!r[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(l)return l(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var s=a[i]={exports:{}};r[i][0].call(s.exports,function(t){var e=r[i][1][t];return u(e||t)},s,s.exports,f,r,a,o)}return a[i].exports}for(var l="function"==typeof require&&require,t=0;t<o.length;t++)u(o[t]);return u}return f})()({1:[function(t,b,e){(function(g){(function(){var A="Expected a function";var n=0/0;var e="[object Symbol]";var s=/^\s+|\s+$/g;var r=/^[-+]0x[0-9a-f]+$/i;var a=/^0b[01]+$/i;var o=/^0o[0-7]+$/i;var u=parseInt;var t=typeof g=="object"&&g&&g.Object===Object&&g;var i=typeof self=="object"&&self&&self.Object===Object&&self;var l=t||i||Function("return this")();var f=Object.prototype;var c=f.toString;var S=Math.max,z=Math.min;var j=function(){return l.Date.now()};function h(n,s,t){var r,a,o,u,i,l,f=0,e=false,c=false,h=true;if(typeof n!="function"){throw new TypeError(A)}s=P(s)||0;if(I(t)){e=!!t.leading;c="maxWait"in t;o=c?S(P(t.maxWait)||0,s):o;h="trailing"in t?!!t.trailing:h}function d(t){var e=r,i=a;r=a=undefined;f=t;u=n.apply(i,e);return u}function p(t){f=t;i=setTimeout(m,s);return e?d(t):u}function g(t){var e=t-l,i=t-f,n=s-e;return c?z(n,o-i):n}function b(t){var e=t-l,i=t-f;return l===undefined||e>=s||e<0||c&&i>=o}function m(){var t=j();if(b(t)){return x(t)}i=setTimeout(m,g(t))}function x(t){i=undefined;if(h&&r){return d(t)}r=a=undefined;return u}function v(){if(i!==undefined){clearTimeout(i)}f=0;r=l=a=i=undefined}function w(){return i===undefined?u:x(j())}function y(){var t=j(),e=b(t);r=arguments;a=this;l=t;if(e){if(i===undefined){return p(l)}if(c){i=setTimeout(m,s);return d(l)}}if(i===undefined){i=setTimeout(m,s)}return u}y.cancel=v;y.flush=w;return y}function I(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function d(t){return!!t&&typeof t=="object"}function p(t){return typeof t=="symbol"||d(t)&&c.call(t)==e}function P(t){if(typeof t=="number"){return t}if(p(t)){return n}if(I(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=I(e)?e+"":e}if(typeof t!="string"){return t===0?t:+t}t=t.replace(s,"");var i=a.test(t);return i||o.test(t)?u(t.slice(2),i?2:8):r.test(t)?n:+t}b.exports=h}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(t,e,i){var o=t("./util.js"),n=t("./targetWidths.js"),s=t("./autoSize");var r=function(){function t(t,e){this.el=t;this.settings=e||{};if(!this.el){console.warn("ImgixTag must be passed a DOM element.");return}this.window=this.settings.window?this.settings.window:null;if(this.el.hasAttribute("ix-initialized")&&!this.settings.force){return}this.ixPathVal=t.getAttribute(this.settings.pathInputAttribute);this.ixParamsVal=t.getAttribute(this.settings.paramsInputAttribute);this.ixSrcVal=t.getAttribute(this.settings.srcInputAttribute);this.ixHostVal=t.getAttribute(this.settings.hostInputAttribute)||this.settings.host;if(this.ixPathVal&&!this.ixHostVal){console.warn("You must set a value for `imgix.config.host` or specify an `ix-host` attribute to use `ix-path` and `ix-params`.");return}if(typeof this.ixPathVal==="string"&&this.ixPathVal.length==0){console.warn('`ix-path` cannot accept a value of empty string ""');return}if(typeof this.ixSrcVal==="string"&&this.ixSrcVal.length==0){console.warn('`ix-src` cannot accept a value of empty string ""');return}this.baseParams=this._extractBaseParams();this.baseUrl=this._buildBaseUrl();this.baseUrlWithoutQuery=this.baseUrl.split("?")[0];if(o.isString(this.el.className)){if(this.el.className.includes("nolazyload")){this.settings.sizesAttribute="sizes";this.settings.srcsetAttribute="srcset";this.settings.srcAttribute="src"}}if(o.isString(this.settings.sizesAttribute)){this.el.setAttribute(this.settings.sizesAttribute,this.sizes())}if(o.isString(this.settings.srcsetAttribute)){this.el.setAttribute(this.settings.srcsetAttribute,this.srcset())}if(o.isString(this.settings.srcAttribute)&&this.el.nodeName=="IMG"){this.el.setAttribute(this.settings.srcAttribute,this.src())}this.el.setAttribute("ix-initialized","ix-initialized")}t.prototype._extractBaseParams=function(){var t={};if(this.settings.defaultParams&&typeof this.settings.defaultParams==="object"&&this.settings.defaultParams!==null){t=Object.assign({},this.settings.defaultParams)}if(this.ixPathVal){t=Object.assign({},t,JSON.parse(this.ixParamsVal)||{});for(var e in t){if(e.substr(-2)==="64"){t[e]=o.encode64(t[e])}}}else{var i=this.ixSrcVal.lastIndexOf("?");if(i>-1){var n=this.ixSrcVal.substr(i+1),s=n.split("&");for(var r=0,a;r<s.length;r++){a=s[r].split("=");t[a[0]]=a[1]}}}if(this.settings.includeLibraryParam){t.ixlib="imgixjs-"+imgix.VERSION}return t};t.prototype._buildBaseUrl=function(){if(this.ixSrcVal){return this.ixSrcVal}var t=this.ixPathVal,e=this.settings.useHttps?"https":"http",i=e+"://"+this.ixHostVal,n=this.ixHostVal.substr(-1)==="/",s=t[0]==="/";if(n&&s){i+=t.substr(1)}else if(!n&&!s){i+="/"+t}else{i+=t}i+="?";var r=[],a;for(var o in this.baseParams){a=this.baseParams[o];if(a==null){continue}r.push(encodeURIComponent(o)+"="+encodeURIComponent(a))}i+=r.join("&");return i};t.prototype._buildSrcsetPair=function(t){var e=o.shallowClone(this.baseParams);e.w=t;var i=this.baseUrlWithoutQuery+"?",n,s=[];for(var r in e){n=e[r];s.push(r+"="+n)}i+=s.join("&");return i+" "+t+"w"};t.prototype.src=function(){return this.baseUrl};t.prototype.srcset=function(){var t=[];for(var e=0;e<n.length;e++){t.push(this._buildSrcsetPair(n[e]))}return t.join(", ")};t.prototype.sizes=function(){var t=this.el.getAttribute("sizes");var e=this.el.getAttribute("ix-sizes");const i=this.el;const n=this.window;if(t==null&&e!=="auto"){return e?e:"100vw"}else if(t==null&&e==="auto"){return s.updateOnResize({el:i,existingSizes:t,ixSizes:e,_window:n})}else{return t?t:"100vw"}};return t}();e.exports=r},{"./autoSize":3,"./targetWidths.js":6,"./util.js":7}],3:[function(t,e,i){const o=t("./util");const s=40;const u=200;const l=function({parent:i,width:n}){if(n<s){n=s;let t=i.offsetWidth;let e=i.parentNode;while(e&&t<n){t=e.offsetWidth;e=e.parentNode}if(t>n){n=t}}return n};const r=({el:t})=>{if(!t.complete){console.warn("Imgix.js: attempted to set sizes attribute on element with complete evaluating to false");return false}if(t.naturalWidth===0){console.warn("Imgix.js: attempted to set sizes attribute on element with no naturalWidth");return false}return true};const a=({el:t,existingSizes:e,ixSizes:i,elHasAttributes:n})=>{if(!e&&!i){console.warn("Imgix.js: attempted to set sizes attribute on element without existing sizes attribute value");return false}if(!n){console.warn("Imgix.js: attempted to set sizes attribute on element with no attributes");return false}return r({el:t})};const f=({el:t,existingSizes:e,ixSizes:i,elHasAttributes:n,_window:s})=>{let r=a({el:t,existingSizes:e,ixSizes:i,elHasAttributes:n,_window:s})?l({el:t,parent:t.parentNode,width:t.offsetWidth})+"px":e;return r};const c=({el:t,existingSizes:e,ixSizes:i,_window:n,elHasAttributes:s})=>{const r=f({el:t,existingSizes:e,ixSizes:i,elHasAttributes:s,_window:n});if(r!==e){n.requestAnimationFrame(()=>{t.setAttribute("sizes",r)})}};const n=({el:t,existingSizes:e,ixSizes:i,_window:n})=>{const s=t.hasAttributes();const r=o.rICShim(n);const a=o.debounce(()=>{r(()=>c({el:t,existingSizes:e,ixSizes:i,_window:n,elHasAttributes:s}))},u);n.addEventListener("resize",a,false);return l({el:t,parent:t.parentNode,width:t.offsetWidth})+"px"};const h={getElementWidth:l,imgCanBeSized:a,updateOnResize:n};e.exports=h},{"./util":7}],4:[function(t,e,i){e.exports={host:null,useHttps:true,includeLibraryParam:true,defaultParams:{},srcAttribute:"src",srcsetAttribute:"srcset",sizesAttribute:"sizes",srcInputAttribute:"ix-src",pathInputAttribute:"ix-path",paramsInputAttribute:"ix-params",hostInputAttribute:"ix-host",window:typeof window!=="undefined"?window:null}},{}],5:[function(e,t,i){(function(r){(function(){var a=e("./ImgixTag.js"),o=e("./util.js"),s=e("./defaultConfig");var t="4.0.0";r.imgix={init:function(t){var e=o.shallowClone(this.config);o.extend(e,t||{});var i=["img["+e.srcInputAttribute+"]","source["+e.srcInputAttribute+"]","img["+e.pathInputAttribute+"]","source["+e.pathInputAttribute+"]"].join(",");var n=document.querySelectorAll(i);for(var s=0,r;s<n.length;s++){new a(n[s],e)}},config:s,VERSION:t};o.domReady(function(){o.objectEach(s,function(t,e){var i=o.getMetaTagValue(e);if(typeof i!=="undefined"){var n=typeof s[e];if(n==="boolean"){r.imgix.config[e]=!!i}else if(n==="object"&&s[e]!=null){r.imgix.config[e]=JSON.parse(i)||{}}else{r.imgix.config[e]=i}}});if(o.getMetaTagValue("autoInit")!==false){r.imgix.init()}})}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./ImgixTag.js":2,"./defaultConfig":4,"./util.js":7}],6:[function(t,e,i){function n(){var t=[];var e=100;var i=8;var n=8192;function s(t){return 2*Math.round(t/2)}while(e<=n){t.push(s(e));e*=1+i/100*2}return t}e.exports=n()},{}],7:[function(t,e,i){const n=t("lodash.debounce");e.exports={compact:function(t){var e=[];for(var i=0;i<t.length;i++){t[i]&&e.push(t[i])}return e},shallowClone:function(t){var e={};for(var i in t){e[i]=t[i]}return e},extend:function(t,e){for(var i in e){t[i]=e[i]}return t},uniq:function(t){var e={},i=[],n;for(n=0;n<t.length;n++){if(!e[t[n]]){e[t[n]]=true;i.push(t[n])}}return i},objectEach:function(t,e){for(var i in t){if(t.hasOwnProperty(i)){e(t[i],i)}}},isString:function(t){return typeof t==="string"},encode64:function(t){var e=unescape(encodeURIComponent(t)),i=btoa(e),n=i.replace(/\+/g,"-");n=n.replace(/\//g,"_").replace(/\//g,"_").replace(/\=+$/,"");return n},decode64:function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/"),i=atob(e),n=decodeURIComponent(escape(i));return n},domReady:function(t){if(document.readyState==="complete"){setTimeout(t,0)}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",t,false)}else{document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){t()}})}},getMetaTagValue:function(t){var e=document.querySelector('meta[property="ix:'+t+'"]'),i;if(!e){return}i=e.getAttribute("content");if(i==="true"){return true}else if(i==="false"){return false}else if(i===""||i==="null"){return null}else{return i}},debounce:n,rICShim:function(t){return t.requestIdleCallback||function(t){var e=Date.now();return setTimeout(function(){t({didTimeout:false,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)}}}},{"lodash.debounce":1}]},{},[5]);
