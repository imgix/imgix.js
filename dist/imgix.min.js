/*! http://www.imgix.com imgix.js - v1.0.7 - 2014-10-06 */

(function(){function a(){Object.freeze||(Object.freeze=function(a){return a}),function(a){for(var b,c,d={},e=function(){},f="memory".split(","),g="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");b=f.pop();)a[b]=a[b]||d;for(;c=g.pop();)a[c]=a[c]||e}(window.console||{}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Array.prototype.filter||(Array.prototype.filter=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments.length>=2?arguments[1]:void 0,f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),g=f.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=new Array(g),e=0;g>e;){var h,i;e in f&&(h=f[e],i=a.call(c,h,e,f),d[e]=i),e++}return d}),document.querySelectorAll||(document.querySelectorAll=function(a){var b,c=document.createElement("style"),d=[];for(document.documentElement.firstChild.appendChild(c),document._qsa=[],c.styleSheet.cssText=a+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),c.parentNode.removeChild(c);document._qsa.length;)b=document._qsa.shift(),b.style.removeAttribute("x-qsa"),d.push(b);return document._qsa=null,d}),document.querySelector||(document.querySelector=function(a){var b=document.querySelectorAll(a);return b.length?b[0]:null}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;d>g;g++)a.call(e,c[g])&&h.push(c[g]);return h}}()),!("getComputedStyle"in window)&&(window.getComputedStyle=function(){function a(b,c,d,e){var f,g=c[d],h=parseFloat(g),i=g.split(/\d/)[0];return e=null!=e?e:/%|em/.test(i)&&b.parentElement?a(b.parentElement,b.parentElement.currentStyle,"fontSize",null):16,f="fontSize"==d?e:/width/i.test(d)?b.clientWidth:b.clientHeight,"em"==i?h*e:"in"==i?96*h:"pt"==i?96*h/72:"%"==i?h/100*f:h}function b(a,b){var c="border"==b?"Width":"",d=b+"Top"+c,e=b+"Right"+c,f=b+"Bottom"+c,g=b+"Left"+c;a[b]=(a[d]==a[e]==a[f]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(" ")}function c(c){var d=c.currentStyle,e=this,f=a(c,d,"fontSize",null);for(property in d)/width|height|margin.|padding.|border.+W/.test(property)&&"auto"!==e[property]?e[property]=a(c,d,property,f)+"px":"styleFloat"===property?e["float"]=d[property]:e[property]=d[property];return b(e,"margin"),b(e,"padding"),b(e,"border"),e.fontSize=f+"px",e}function d(a){return new c(a)}return c.prototype={constructor:c,getPropertyPriority:function(){},getPropertyValue:function(a){return this[a]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},d}(window)),function(){function a(a,b){return function(){a.apply(b,arguments)}}function b(b){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof b)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],h(b,a(d,this),a(e,this))}function c(a){var b=this;return null===this._state?void this._deferreds.push(a):void j(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function d(b){try{if(b===this)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if("function"==typeof c)return void h(a(c,b),a(d,this),a(e,this))}this._state=!0,this._value=b,f.call(this)}catch(g){e.call(this,g)}}function e(a){this._state=!1,this._value=a,f.call(this)}function f(){for(var a=0,b=this._deferreds.length;b>a;a++)c.call(this,this._deferreds[a]);this._deferreds=null}function g(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}function h(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var i;i="object"==typeof window&&window?window:global,"undefined"!=typeof module&&module.exports?module.exports=i.Promise?i.Promise:b:i.Promise||(i.Promise=b);var j=i.setImmediate||function(a){setTimeout(a,1)},k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};b.prototype["catch"]=function(a){return this.then(null,a)},b.prototype.then=function(a,d){var e=this;return new b(function(b,f){c.call(e,new g(a,d,b,f))})},b.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&k(arguments[0])?arguments[0]:arguments);return new b(function(b,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},b.resolve=function(a){return a&&"object"==typeof a&&a.constructor===b?a:new b(function(b){b(a)})},b.reject=function(a){return new b(function(b,c){c(a)})},b.race=function(a){return new b(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})}}()}function b(){return h}"undefined"!=typeof window&&a();var c=this,d={};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=d),exports.imgix=d):c.imgix=d;var e="imgix-usable";d.helpers={debouncer:function(a,b){var c;return function(){var d=this,e=arguments,f=function(){c=null,a.apply(d,e)};window.clearTimeout(c),c=window.setTimeout(f,b)}},urlParser:function(){function a(a){return!isNaN(parseFloat(a))&&isFinite(a)}return function(b,c){var d=c||window.location.toString();if(!b)return d;b=b.toString(),"//"===d.substring(0,2)?d="http:"+d:1===d.split("://").length&&(d="http://"+d),c=d.split("/");var e={auth:""},f=c[2].split("@");1===f.length?f=f[0].split(":"):(e.auth=f[0],f=f[1].split(":")),e.protocol=c[0],e.hostname=f[0],e.port=f[1]||("https"===e.protocol.split(":")[0].toLowerCase()?"443":"80"),e.pathname=(c.length>3?"/":"")+c.slice(3,c.length).join("/").split("?")[0].split("#")[0];var g=e.pathname;"/"===g.charAt(g.length-1)&&(g=g.substring(0,g.length-1));var h=e.hostname,i=h.split("."),j=g.split("/");if("hostname"===b)return h;if("domain"===b)return/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(h)?h:i.slice(-2).join(".");if("sub"===b)return i.slice(0,i.length-2).join(".");if("port"===b)return e.port;if("protocol"===b)return e.protocol.split(":")[0];if("auth"===b)return e.auth;if("user"===b)return e.auth.split(":")[0];if("pass"===b)return e.auth.split(":")[1]||"";if("path"===b)return e.pathname;if("."===b.charAt(0)){if(b=b.substring(1),a(b))return b=parseInt(b,10),i[0>b?i.length+b:b-1]||""}else{if(a(b))return b=parseInt(b,10),j[0>b?j.length+b:b]||"";if("file"===b)return j.slice(-1)[0];if("filename"===b)return j.slice(-1)[0].split(".")[0];if("fileext"===b)return j.slice(-1)[0].split(".")[1]||"";if("?"===b.charAt(0)||"#"===b.charAt(0)){var k=d,l=null;if("?"===b.charAt(0)?k=(k.split("?")[1]||"").split("#")[0]:"#"===b.charAt(0)&&(k=k.split("#")[1]||""),!b.charAt(1))return k;b=b.substring(1),k=k.split("&");for(var m=0,n=k.length;n>m;m++)if(l=k[m].split("="),l[0]===b)return l[1]||"";return null}}return""}}(),mergeObject:function(){for(var a,b={},c=0,d=arguments.length;d>c;c++)for(a in arguments[c])arguments[c].hasOwnProperty(a)&&(b[a]=arguments[c][a]);return b},pixelRound:function(a,b){return Math.ceil(a/b)*b},isMobileDevice:function(){return/iPhone|iPod|iPad/i.test(navigator.userAgent)},isNumber:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},getZoom:function(){var a=Math.round(screen.width/window.innerWidth*10)/10;return 1>=a?1:a},getDPR:function(){var a=window.devicePixelRatio?window.devicePixelRatio:1;if(a%1!==0){var b=""+a;b=b.split(".")[1],a=a.toFixed(b.length>1&&"0"!==b.slice(1,2)?2:1)}return a},getWindowWidth:function(){return document.documentElement.clientWidth||document.body&&document.body.clientWidth||1024},getWindowHeight:function(){return document.documentElement.clientHeight||document.body&&document.body.clientHeight||768},getImgSrc:function(a){return a.getAttribute("data-src")||a.getAttribute("src")},calculateElementSize:function(a){var b={width:a.offsetWidth,height:a.offsetHeight};if(null===a.parentNode)return b.width=this.getWindowWidth(),b.height=this.getWindowHeight(),b;if(0!==b.width||0!==b.height)return a.alt&&!a.fluid?(a.fluid=!0,this.calculateElementSize(a.parentNode)):b;var c,d,e={},f={position:"absolute",visibility:"hidden",display:"block"};for(d in f)f.hasOwnProperty(d)&&(e[d]=a.style[d],a.style[d]=f[d]);c=b;for(d in f)f.hasOwnProperty(d)&&(a.style[d]=e[d]);return 0===c.width||0===c.height?this.calculateElementSize(a.parentNode):c},isReallyObject:function(a){return a&&"object"==typeof a&&a+""=="[object Object]"},isFluidSet:function(a){return a&&"object"==typeof a&&a+""=="[object FluidSet]"},extractInt:function(a){return void 0===a?0:"number"==typeof a?a:parseInt(a.replace(/\D/g,""),10)||0},camelize:function(a){return a.replace(/[-_\s]+(.)?/g,function(a,b){return b?b.toUpperCase():""})},getElementCssProperty:function(a,b){return window.getComputedStyle?window.getComputedStyle(a,null).getPropertyValue(b):a&&a.style&&b?a.style[this.camelize(b)]:""}},d.getElementByXPathClassName=function(a){return document.querySelector("."+d.getXPathClass(a))},d.getElementImageByXPathClassName=function(a){return d.getElementImage(d.getElementByXPathClassName(a))},d.isImageElement=function(a){return a&&a.tagName&&"img"===a.tagName.toLowerCase()},d.setElementImageAfterLoad=function(a,b,c){var e=new Image;e.src=b,e.onload=function(){d.setElementImage(a,b),"function"==typeof c&&c()}},d.setElementImage=function(a,b){if(!a)return!1;if(d.isImageElement(a))return a.src=b,!0;var c=d.getBackgroundImage(a);return c?(a.style.cssText=a.style.cssText.replace(c,b),!0):(document.addEventListener?a.style.backgroundImage="url("+b+")":a.style.cssText="background-image:url("+b+")",!0)},d.getEmptyImage=function(){return"https://assets.imgix.net/pixel.gif"},d.getElementImage=function(a){return d.isImageElement(a)?a.src:d.getBackgroundImage(a)},d.getRawBackgroundImage=function(a){return a.style.cssText.match(/url\(([^\)]+)/)},d.getBackgroundImage=function(a){var b=d.getRawBackgroundImage(a);return b&&2===b.length?b[1]:""},d.getColorBrightness=function(a){if(!a)return 0;"#"===a.slice(0,1)&&(a=d.hexToRGB(a));var b=a.replace(/[^0-9,]+/g,"").split(","),c=+b[0],e=+b[1],f=+b[2];return+Math.sqrt(c*c*.241+e*e*.691+f*f*.068)},d.hexToRGB=function(a){function b(a){return""+a+a}if(a)if("#"===a.slice(0,1))a=a.slice(1,a.length);else if("rgb"===a.slice(0,3))return a;var c=0,d=0,e=0;return 3===a.length?(c=parseInt(b(a.slice(0,1)),16),d=parseInt(b(a.slice(1,2)),16),e=parseInt(b(a.slice(2,3)),16)):6===a.length?(c=parseInt(a.slice(0,2),16),d=parseInt(a.slice(2,4),16),e=parseInt(a.slice(4,6),16)):console.warn("invalid hex color:",a),"rgb("+c+", "+d+", "+e+")"},d.getElementsWithImages=function(){return d.markElementsWithImages(),document.querySelectorAll("."+e)},d.hasImage=function(a){var b=a.style.cssText?a.style.cssText.toLowerCase():a.style.cssText;return a&&(d.isImageElement(a)||-1!==b.indexOf("background-image"))},d.markElementsWithImages=function(){for(var a=document.getElementsByTagName("*"),b=0,c=a.length;c>b;b++)d.hasImage(a[b])&&d.setImgixClass(a[b])},d.hasClass=function(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1},d.setImgixClass=function(a){if(d.hasClass(a,e))return d.getImgixClass(a);var b=d.getXPathClass(d.getElementTreeXPath(a));return a.classList.add(b),a.classList.add(e),d.getImgixClass(a)},d.getImgixClass=function(a){return d.hasClass(a,e)?a.className.match(/imgix-el-[^\s]+/)[0]:void 0},d.getXPathClass=function(a){return a=a?a:(new Date).getTime().toString(),"imgix-el-"+d.md5(a)},d.rgbToHex=function(a){var b=a.split(",");return b=b.map(function(a){return d.componentToHex(parseInt(a.replace(/\D/g,"")))}),b.join("")},d.componentToHex=function(a){var b=a.toString(16);return 1===b.length?"0"+b:b},d.getElementTreeXPath=function(a){for(var b=[];a&&a.nodeType==Node.ELEMENT_NODE;a=a.parentNode){for(var c=0,d=a.previousSibling;d;d=d.previousSibling)d.nodeType!=Node.DOCUMENT_TYPE_NODE&&d.nodeName==a.nodeName&&++c;var e=(a.prefix?a.prefix+":":"")+a.localName,f=c?"["+(c+1)+"]":"";b.splice(0,0,e+f)}return b.length?"/"+b.join("/"):null},d.getFontLookup=function(){return{"American Typewriter":"American Typewriter","American Typewriter Bold":"American Typewriter,bold","American Typewriter Condensed":"American Typewriter Condensed","American Typewriter Condensed Bold":"American Typewriter Condensed,bold","American Typewriter Condensed Light":"American Typewriter Condensed Light","American Typewriter Light":"American Typewriter Light","Andale Mono":"Andale Mono",Arial:"Arial","Arial Black":"Arial Black","Arial Bold":"Arial,bold","Arial Bold Italic":"Arial,bold,italic","Arial Italic":"Arial,italic",Baskerville:"Baskerville","Big Caslon":"Big Caslon","Brush Script MT":"Brush Script MT",Cochin:"Cochin",Copperplate:"Copperplate",Courier:"Courier","Courier Bold":"Courier,bold","Courier Oblique":"Courier Oblique",Didot:"Didot",Futura:"Futura","Futura Condensed":"Futura Condensed Medium","Futura Italic":"Futura Medium,italic",Georgia:"Georgia","Georgia Bold":"Georgia,bold","Georgia Bold Italic":"Georgia,bold,italic","Georgia Italic":"Georgia,italic","Gill Sans":"Gill Sans","Gill Sans Bold":"Gill Sans,bold","Gill Sans Bold Italic":"Gill Sans,bold,italic","Gill Sans Italic":"Gill Sans,italic","Gill Sans Light":"Gill Sans Light","Gill Sans Light Italic":"Gill Sans Light,italic",Helvetica:"Helvetica","Helvetica Bold":"Helvetica,bold","Helvetica Light":"Helvetica Light","Helvetica Light Oblique":"Helvetica Light Oblique","Helvetica Neue":"Helvetica Neue","Helvetica Neue Bold":"Helvetica Neue,bold","Helvetica Neue Bold Italic":"Helvetica Neue,bold,italic","Helvetica Neue Condensed Black":"Helvetica Neue Condensed Black","Helvetica Neue Condensed Bold":"Helvetica Neue Condensed,bold","Helvetica Neue Light":"Helvetica Neue Light","Helvetica Neue Light Italic":"Helvetica Neue Light,italic","Helvetica Neue Medium":"Helvetica Neue Medium","Helvetica Neue UltraLight":"Helvetica Neue UltraLight","Helvetica Neue UltraLight Italic":"Helvetica Neue UltraLight,italic","Helvetica Oblique":"Helvetica Oblique",Herculanum:"Herculanum",Impact:"Impact","Marker Felt Thin":"Marker Felt Thin","Marker Felt Wide":"Marker Felt Wide",Optima:"Optima","Optima Bold":"Optima,bold","Optima Bold Italic":"Optima,bold,italic","Optima ExtraBlack":"Optima ExtraBlack","Optima Italic":"Optima,italic",Papyrus:"Papyrus","Papyrus Condensed":"Papyrus Condensed",Times:"Times","Times Bold":"Times,bold","Times Bold Italic":"Times,bold,italic","Times Italic":"Times,italic","Times New Roman":"Times New Roman","Times New Roman Bold":"Times New Roman,bold","Times New Roman Bold Italic":"Times New Roman,bold,italic","Times New Roman Italic":"Times New Roman,italic","Trebuchet MS":"Trebuchet MS","Trebuchet MS Bold":"Trebuchet MS,bold","Trebuchet MS Bold Italic":"Trebuchet MS,bold,italic","Trebuchet MS Italic":"Trebuchet MS,italic",Verdana:"Verdana","Verdana Bold":"Verdana,bold","Verdana Bold Italic":"Verdana,bold,italic","Verdana Italic":"Verdana,italic",Zapfino:"Zapfino"}},d.getFonts=function(){return Object.keys(d.getFontLookup())},d.searchFonts=function(a){return a=a.toLowerCase(),d.getFonts().filter(function(b){return-1!==b.toLowerCase().indexOf(a)})},d.isFontAvailable=function(a){return d.isDef(d.getFontLookup()[a])},d.getParamAliases=function(){return{t:"txt",tf:"txtfont",tsz:"txtsize",tl:"txtline",tsh:"txtshad",tp:"txtpad",txtlinecolor:"txtlineclr",ta:"txtalign",intensity:"int",monochrome:"mono",f:"fit",orient:"or",m:"watermark",mf:"markfit",ms:"markscale",ma:"markalign",mp:"markpad"}},d.getDefaultParamValues=function(){return{sepia:"0",px:"0",htn:"0",blur:"0",mono:"",blend:"","int":"100",hue:"0",sat:"0",bri:"0",con:"0",exp:"0",high:"0",shad:"0",gam:"0",vib:"0",sharp:"0",txt:"",txtfont:"Helvetica",txtsize:"12",txtclr:"000000",txtalign:"bottom,right",txtshad:"0",txtpad:"10",txtline:"0",txtlineclr:"ffffff",txtfit:"",rect:"",dpr:"1",fit:"clip",flip:"",or:"0",crop:"",rot:"0",h:"0",w:"0",fm:"",q:75,mark:"",markw:"",markh:"",markfit:"clip",markscale:"",markalign:"bottom,right",markalpha:100,markpad:5,palette:"",colors:"","class":"",auto:"",mask:"",bg:""}},d.getDefaultParamValue=function(a){return d.getDefaultParamValues()[a]},d.getDefaultParams=function(){return Object.keys(d.getDefaultParamValues())},d.makeCssClass=function(a){return"tmp_"+d.md5(a)},d.injectStyleSheet=function(a){var b=document.createElement("link");b.type="text/css",b.rel="stylesheet",b.href=a,document.getElementsByTagName("head")[0].appendChild(b)},d.findInjectedStyleSheet=function(a){if(document.styleSheets)for(var b=0;b<document.styleSheets.length;b++)if(document.styleSheets[b].href===a)return!0;return!1},d.getElementImageSize=function(a){var b=0,c=0;return d.isImageElement(a)?(b=a.naturalWidth,c=a.naturalHeight):(b=d.helpers.extractInt(d.getCssProperty(a,"width")),c=d.helpers.extractInt(d.getCssProperty(a,"height"))),{width:b,height:c}},d.getCssPropertyById=function(a,b){var c=document.getElementById(a);return d.helpers.getElementCssProperty(c,b)},d.getCssProperty=function(a,b){return d.helpers.getElementCssProperty(a,b)},d.getCssPropertyBySelector=function(a,b){var c=document.querySelector(a);return d.helpers.getElementCssProperty(c,b)},d.instanceOfImgixURL=function(a){return a&&"[object imgixURL]"===a.toString()},d.URL=function(a,b,c,e){this.token=c||"",this._autoUpdateSel=null,this._autoUpdateCallback=null,this.isRj=d.isDef(e)?e:!1,this.setUrl(a),"object"==typeof b&&this.setParams(b),this.paramAliases={}},d.URL.prototype.attachImageTo=function(a,b){"string"==typeof a?d.setElementImageAfterLoad(document.querySelector(a),this.getUrl(),b):d.setElementImageAfterLoad(a,this.getUrl(),b)},d.URL.prototype.setToken=function(a){this.token=a},d.createParamString=function(){return new d.URL("")},d.updateVersion={};var f={};d.URL.prototype.getColors=function(a,b){var c=new d.URL(this.getUrl()),e=d.makeCssClass(this.getUrl());if("function"==typeof a)if("number"==typeof b){var g=b;b=a,a=g}else b=a,a=10;c.setPaletteColorNumber(a),c.setPalette("css"),c.setPaletteClass(e);var h=c.getUrl();d.injectStyleSheet(h);var i=function(){if(d.findInjectedStyleSheet(h)){var c=null;setTimeout(function(){for(var g=[],i=100,j=1;a>=j;j++)!function(a){var b=document.createElement("span");b.id=e+"-"+a,b.className=e+"-fg-"+a,document.body.appendChild(b),g.push(new Promise(function(e){var f=0,g=function(){var h=d.getCssPropertyById(b.id,"color");h!==c?(document.body.removeChild(b),e({num:a,color:h}),c=h):++f<i?setTimeout(g,50):(document.body.removeChild(b),e({num:a,color:"rgb(255, 255, 255)"}))};setTimeout(g,300)}))}(j);Promise.all(g).then(function(a){var c=[];a=a.sort(function(a,b){return a.num-b.num});for(var e=0;e<a.length;e++)c.push(d.hexToRGB(a[e].color));c&&c.length>1&&d.getColorBrightness(c[c.length-1])<d.getColorBrightness(c[0])&&c.reverse(),f[h]=c,b&&b(c)})},10)}else setTimeout(i,100)};f.hasOwnProperty(h)?b&&b(f[h]):i()},d.URL.prototype._handleAutoUpdate=function(){function a(a){return h===e._autoUpdateSel&&a===d.updateVersion[h]}function b(b,c){c in i||(i[c]=[],function(){var b=document.createElement("img"),j=d.updateVersion[h],k=(new Date).getTime();b.src=c,b.onload=b.onerror=function(){if(a(j))for(var b=0;b<i[c].length;b++)if(d.setElementImage(i[c][b],c),g++,"function"==typeof e._autoUpdateCallback){var h={element:i[c][b],isComplete:g===f,percentComplete:g/f*100,totalComplete:g,loadTime:(new Date).getTime()-k,total:f};e._autoUpdateCallback(h)}}}()),i[c].push(b)}function c(a){var c=d.getElementImage(a),f=c;c&&-1!==c.indexOf("?")&&(f=c.split("?")[0]),e.getBaseUrl()?b(a,e.getUrl()):f&&e.getQueryString()?b(a,f+"?"+e.getQueryString()):g++}var e=this,f=0,g=0,h=this._autoUpdateSel,i={};if(d.isDef(d.updateVersion[h])?d.updateVersion[h]++:d.updateVersion[h]=1,null!==this._autoUpdateSel){var j=document.querySelectorAll(this._autoUpdateSel);if(f=j.length,j&&1===f)c(j[0]);else for(var k=0;f>k;k++)c(j[k])}},d.URL.prototype.autoUpdateImg=function(a,b){this._autoUpdateSel=a,this._autoUpdateCallback=b,this._handleAutoUpdate()},d.URL.prototype.setUrl=function(a){a&&"string"==typeof a&&0!==a.length||(a=d.getEmptyImage()),this.urlParts=this.isRj?d.parseRjUrl(a):d.parseUrl(a)},d.URL.prototype.setURL=function(a){return this.setUrl(a)},d.URL.prototype.getURL=function(){return this.getUrl()},d.URL.prototype.toString=function(){return"[object imgixURL]"},d.URL.prototype.getUrl=function(){var a=this.isRj?d.buildRjUrl(this.urlParts):d.buildUrl(this.urlParts);return this.token?this.isRj?d.signRjUrl(a,this.token):d.signUrl(a,this.token):a&&0!==a.length?a:d.getEmptyImage()},d.URL.prototype.removeParam=function(a){this.urlParts.paramValues.hasOwnProperty(a)&&(delete this.urlParts.paramValues[a],this.urlParts.params=Object.keys(this.urlParts.paramValues))},d.URL.prototype.clearThenSetParams=function(a){this.clearParams(!1),this.setParams(a)},d.URL.prototype.clearParams=function(a){a=d.isDef(a)?a:!0;for(var b in this.urlParts.paramValues)this.removeParam(b);a&&this._handleAutoUpdate()},d.URL.prototype.setParams=function(a,b){if(d.instanceOfImgixURL(a))return void console.warn("setParams warning: dictionary of imgix params expectd. imgix URL instance passed instead");for(var c in a)this.setParam(c,a[c],b,!0);this._handleAutoUpdate()},d.URL.prototype.setParam=function(a,b,c,e){if(a=a.toLowerCase(),c=d.isDef(c)?c:!0,e=d.isDef(e)?e:!1,("col"===a||"colorize"===a||"blend"===a||"mono"===a||"monochrome"===a)&&"rgb"===b.slice(0,3)&&(b=d.rgbToHex(b)),-1===d.getDefaultParams().indexOf(a))return void console.warn('"'+a+'" is an invalid imgix param');if(c||!this.urlParts.paramValues[a]){if("txtfont"===a&&d.isFontAvailable(b)){var f=d.getFontLookup()[b];f&&(b=f)}if(d.getDefaultParamValue(a)===b||!d.isDef(b)||null===b||0===b.length)return void this.removeParam(a);-1===this.urlParts.params.indexOf(a)&&this.urlParts.params.push(a),decodeURIComponent(b)===b&&(b=encodeURIComponent(b)),this.urlParts.paramValues[a]=String(b),e||this._handleAutoUpdate()}},d.URL.prototype.getParam=function(a){if("mark"===a||"mask"===a){var b=this.urlParts.paramValues[a];return decodeURIComponent(b)!==b?decodeURIComponent(b):b}return this.urlParts.paramValues[a]},d.URL.prototype.getParams=function(){return this.urlParts.paramValues?this.urlParts.paramValues:{}},d.URL.prototype.getBaseUrl=function(){var a=this.getUrl();return-1!==a.indexOf("?")&&(a=this.getUrl().split("?")[0]),a!==window.location.href?a:""},d.URL.prototype.getQueryString=function(){var a=this.getUrl();return-1!==a.indexOf("?")?this.getUrl().split("?")[1]:""},d.URL.theGetSetFuncs=Object.freeze({crop:"Crop",fit:"Fit",h:"Height",w:"Width",rot:"Rotate",flip:"Flip",or:"Orient",dpr:"DPR",hue:"Hue",sat:"Saturation",bri:"Brightness",con:"Contrast",exp:"Exposure",high:"Highlight",shad:"Shadow",gam:"Gamma",vib:"Vibrance",sharp:"Sharpness",sepia:"Sepia",htn:"Halftone",blur:"Blur",mono:"Monochrome",px:"Pixelate",blend:"Blend",txt:"Text",txtfont:"TextFont",txtsize:"TextSize",txtclr:"TextColor",txtalign:"TextAlign",txtshad:"TextShadow",txtpad:"TextPad",txtline:"TextLine",txtlineclr:"TextLineColor",txtfit:"TextFit",fm:"Format",q:"Quality",mark:"Watermark",markw:"WatermarkWidth",markh:"WatermarkHeight",markfit:"WatermarkFit",markscale:"WatermarkScale",markalign:"WatermarkAlign",markalpha:"WatermarkAlpha",markpad:"WatermarkPadding",palette:"Palette","class":"PaletteClass",colors:"PaletteColorNumber",auto:"Auto",mask:"Mask",bg:"Background"});for(var g in d.URL.theGetSetFuncs)!function(a){d.URL.prototype["set"+d.URL.theGetSetFuncs[a]]=function(b,c){this.setParam(a,b,c)},d.URL.prototype["get"+d.URL.theGetSetFuncs[a]]=function(){return this.getParam(a)}}(g);d.parseRjUrl=function(a){var b=["protocol","hostname","port","pathname","search","hash","host"],c=document.createElement("a"),d={};c.href=a;for(var e=c.pathname.split("p:"),f=e[0],g=e[1]&&-1!==e[1].indexOf("=")?e[1].match(/([^/]+)/)[1]:"",h=e[1]?e[1].replace(g,""):"",i=0;i<b.length;i++)d[b[i]]=c[b[i]];if(d.pathname=h,d.search=g,d.sig=f||"",d.paramValues={},d.params=[],d.baseUrl=h,-1!==f.indexOf(".")&&(d.baseUrl=a.split("?")[0]),g&&g.length>0)for(var e=g.split("&"),j=0;j<e.length;j++){var k=e[j].split("=");k[0]&&k[0].length&&(d.paramValues[k[0]]=2===k.length?k[1]:"",d.params.push(k[0]))}return d},d.buildRjUrl=function(a){var b=a.protocol+"//"+a.host+a.sig;if(a.params.length>0){for(var c=[],d=0;d<a.params.length;d++)a.paramValues[a.params[d]].length>0&&c.push(a.params[d]+"="+a.paramValues[a.params[d]]);b+="p:"+c.join("&")}else b+="p:";return b+=a.pathname,b+a.hash},d.parseUrl=function(a){for(var b=["protocol","hostname","port","path","?","#","hostname"],c=["protocol","hostname","port","pathname","search","hash","host"],e={},f=0;f<c.length;f++)e[c[f]]=d.helpers.urlParser(b[f],a);var g=e.search;if(e.paramValues={},e.params=[],e.baseUrl=a.split("?")[0],g&&g.length>0){"?"===g[0]&&(g=g.substr(1,g.length));for(var h=g.split("&"),i=0;i<h.length;i++){var j=h[i].split("=");j[0]&&j[0].length&&"s"!==j[0]&&(e.paramValues[j[0]]=2===j.length?j[1]:"",-1===e.params.indexOf(j[0])&&e.params.push(j[0]))}}return e},d.buildUrl=function(a){var b=a.protocol+"://"+a.host+a.pathname;if(a.params.length>0){a.params=a.params.map(function(a){return a.toLowerCase()}),a.params=a.params.filter(function(a,b,c){return c.indexOf(a)===b}),a.params=a.params.sort(function(a,b){return b>a?-1:a>b?1:0});for(var c=[],d=0;d<a.params.length;d++)a.paramValues[a.params[d]].length>0&&c.push(a.params[d]+"="+a.paramValues[a.params[d]]);-1!==b.indexOf("?")&&(b=b.split("?")[0]),b+="?"+c.join("&")}return b},d.signRjUrl=function(a,b){var c=d.parseUrl(a),e=c.pathname.match(/([\w\-_*]+)/g),f=e[0];return sig_location=a.indexOf(f)+f.length+1,rest=a.substr(sig_location),find_path=rest.match(/([^\/]+)(.+)/g),path=find_path[1],args="/"+rest.replace(path,""),concat=b+args,new_sig=d.safe_btoa_encode(MD5_hash(concat)).substr(0,8),new_url=a.replace(f,new_sig),new_url},d.signUrl=function(a,b){if(b){var c=d.parseUrl(a),e=(b+c.pathname+"?"+c.search,d.md5(b+c.pathname+"?"+c.search));-1===a.indexOf("?")?(e=d.md5(b+c.pathname),a=a+"?s="+e):a=a+"&s="+e}return a},d.isDef=function(a){return"undefined"!=typeof a},d.safe_btoa_encode=function(a){return window.btoa(a).replace(/\+/g,"-").replace(/\//g,"_")},d.safe_btoa_decode=function(a){return window.atob(a.replace(/\-+/g,"+").replace(/_+/g,"/"))};var h={fluidClass:"imgix-fluid",updateOnResize:!0,updateOnResizeDown:!1,updateOnPinchZoom:!1,highDPRAutoScaleQuality:!0,onChangeParamOverride:null,autoInsertCSSBestPractices:!1,fitImgTagToContainerWidth:!0,fitImgTagToContainerHeight:!1,pixelStep:10};d.FluidSet=function(a){this.options=d.helpers.isReallyObject(a)?d.helpers.mergeObject(b(),a):d.helpers.mergeObject(b(),{}),this.namespace=""+Math.random().toString(36).substring(7),this.windowResizeEventBound=!1,this.windowResizeTimeout=200,this.windowLastWidth=0,this.windowLastHeight=0,this.reload=d.helpers.debouncer(this.reloader,this.windowResizeTimeout)},d.FluidSet.prototype.updateSrc=function(a){var b=this.getImgDetails(a),c=b.url,e=b.width,f=b.height;a.lastWidth=a.lastWidth||0,a.lastHeight=a.lastHeight||0,this.options.updateOnResizeDown===!1&&a.lastWidth>=e&&a.lastHeight>=f||(d.setElementImageAfterLoad(a,c),a.lastWidth=e,a.lastHeight=f)},d.FluidSet.prototype.getImgDetails=function(a){if(a){var b=d.helpers.getDPR(a),c=this.options.pixelStep,e=d.helpers.isMobileDevice()?d.helpers.getZoom():1,f=d.helpers.calculateElementSize(d.isImageElement(a)?a.parentNode:a),g=d.helpers.pixelRound(f.width*e,c),h=d.helpers.pixelRound(f.height*e,c),i=new d.URL(d.helpers.getImgSrc(a));i.setHeight(""),i.setWidth(""),1!==b&&i.setDPR(b),this.options.highDPRAutoScaleQuality&&b>1&&i.setQuality(Math.min(Math.max(parseInt(100/b,10),30),75)),this.options.fitImgTagToContainerHeight&&this.options.fitImgTagToContainerWidth&&i.setFit("crop"),"crop"===i.getFit()?(h>0&&(!d.isImageElement(a)||d.isImageElement(a)&&this.options.fitImgTagToContainerHeight)&&i.setHeight(h),g>0&&(!d.isImageElement(a)||d.isImageElement(a)&&this.options.fitImgTagToContainerWidth)&&i.setWidth(g)):g>=h?i.setWidth(g):i.setHeight(h),!d.isImageElement(a)&&this.options.autoInsertCSSBestPractices&&a.style&&(a.style.backgroundRepeat="no-repeat",a.style.backgroundSize="cover",a.style.backgroundPosition="50% 50%");var j={};null!==this.options.onChangeParamOverride&&"function"==typeof this.options.onChangeParamOverride&&(j=this.options.onChangeParamOverride(g,h,i.getParams()));for(var k in j)i.setParam(k,j[k]);return{url:i.getURL(),width:g,height:h}}},d.FluidSet.prototype.toString=function(){return"[object FluidSet]"},d.FluidSet.prototype.reloader=function(){d.fluid(this),this.windowLastWidth=d.helpers.getWindowWidth(),this.windowLastHeight=d.helpers.getWindowHeight()},d.FluidSet.prototype.attachGestureEvent=function(a){var b=this;a.addEventListener&&!a.listenerAttached&&(a.addEventListener("gestureend",function(){b.updateSrc(this)},!1),a.addEventListener("gesturechange",function(){b.updateSrc(this)},!1),a.listenerAttached=!0)},d.FluidSet.prototype.resizeListener=function(){(this.windowLastWidth!==d.helpers.getWindowWidth()||this.windowLastHeight!==d.helpers.getWindowHeight())&&this.reload()};var i={};d.FluidSet.prototype.attachWindowResizer=function(){i[this.namespace]=function(){this.resizeListener()}.bind(this),window.addEventListener?window.addEventListener("resize",i[this.namespace],!1):window.attachEvent&&window.attachEvent("onresize",i[this.namespace]),this.windowResizeEventBound=!0},d.fluid=function(a){if(null!==a){var c,e;d.helpers.isReallyObject(a)?(c=d.helpers.mergeObject(b(),a),e=new d.FluidSet(c),a=null):d.helpers.isFluidSet(a)?(e=a,c=e.options):(c=d.helpers.mergeObject(b(),{}),e=new d.FluidSet(c));var f;if(a&&!d.helpers.isFluidSet(a))f=Array.isArray(a)?a:[a];else{var g=""+c.fluidClass;g="."===g.slice(0,1)?g:"."+g,f=document.querySelectorAll(g)}for(var h=0;h<f.length;h++)null!==f[h]&&(c.updateOnPinchZoom&&e.attachGestureEvent(f[h]),e.updateSrc(f[h]));c.updateOnResize&&!e.windowResizeEventBound&&e.attachWindowResizer()}},"undefined"!=typeof window&&(d.onready=function(a){function b(a){for(n=1;a=d.shift();)a()}var c,d=[],e=!1,f=document,g=f.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",l="readyState",m=h?/^loaded|^c/:/^loaded|c/,n=m.test(f[l]);return f[j]&&f[j](i,c=function(){f.removeEventListener(i,c,e),b()},e),h&&f.attachEvent(k,c=function(){/^c/.test(f[l])&&(f.detachEvent(k,c),b())}),a=h?function(b){self!==top?n?b():d.push(b):function(){try{g.doScroll("left")
}catch(c){return setTimeout(function(){a(b)},50)}b()}()}:function(a){n?a():d.push(a)}}()),function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}"function"==typeof define&&define.amd?define(function(){return t}):a.md5=t}(d)}).call(this);